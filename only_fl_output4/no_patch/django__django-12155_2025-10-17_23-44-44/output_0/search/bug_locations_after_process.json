[
    {
        "rel_file_path": "django/contrib/admindocs/utils.py",
        "abs_file_path": "/home/kimnal0/auto-code-rover/SWE-bench/testbed/django__django/setup_django__django__3.1/django/contrib/admindocs/utils.py",
        "start": 27,
        "end": 39,
        "class_name": null,
        "method_name": "trim_docstring",
        "code": "27 def trim_docstring(docstring):\n28     \"\"\"\n29     Uniformly trim leading/trailing whitespace from docstrings.\n30 \n31     Based on https://www.python.org/dev/peps/pep-0257/#handling-docstring-indentation\n32     \"\"\"\n33     if not docstring or not docstring.strip():\n34         return ''\n35     # Convert tabs to spaces and split into lines\n36     lines = docstring.expandtabs().splitlines()\n37     indent = min(len(line) - len(line.lstrip()) for line in lines if line.lstrip())\n38     trimmed = [lines[0].lstrip()] + [line[indent:].rstrip() for line in lines[1:]]\n39     return \"\\n\".join(trimmed).strip()\n",
        "intended_behavior": "The `trim_docstring` function should accurately handle docstrings that start with actual content on the first line, without leading to incorrect indentation calculation. The existing functionality to trim leading and trailing whitespace based on the indent of the subsequent lines must be preserved. The function should continue to cater to docstrings following the conventional format (with an initially empty line) as well.\n\nTo resolve the issue, the function's indent calculation will be modified to skip the first line of the docstring when it contains actual content (i.e., is not empty and not just whitespace). This adjustment ensures that the indentation level is correctly determined based on the lines intended to be indented, without erroneously including the first content line in the calculation. Specifically:\n\n- The indent calculation line will be adjusted to ignore the first line when determining the minimum indentation:\n\n  ```python\n  indent = min(len(line) - len(line.lstrip()) for line in lines[1:] if line.lstrip())\n  ```\n\nThis change directly addresses the issue by enabling the function to handle docstrings that do not follow the empty first line convention, ensuring that the docstring's formatting is correctly processed and rendered by tools or libraries like `docutils`, which are sensitive to such indentation nuances."
    }
]
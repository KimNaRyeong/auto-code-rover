[
    {
        "file": "django/contrib/admin/checks.py",
        "class": "",
        "method": "",
        "intended_behavior": "This new or enhanced method should explicitly check whether filter_horizontal or filter_vertical are being used with a ManyToManyField that has a custom 'through' model specified. If such a configuration is detected, the check should raise a warning or error, pointing out that these options are not compatible with ManyToManyField(through=\"...\"). This maintains existing functionality while adding a layer of validation to prevent misconfiguration."
    },
    {
        "file": "django/contrib/admin/options.py",
        "class": "ModelAdmin",
        "method": "",
        "intended_behavior": "Though primarily the checks framework (checks.py) is where the validation logic belongs, documentation or inline comments within ModelAdmin regarding filter_horizontal and filter_vertical might need updating. It should clearly document that using these with a ManyToManyField that specifies a 'through' model is not supported and will lead to errors. This is more about enhancing the developer experience and guidance rather than altering functionality."
    }
]
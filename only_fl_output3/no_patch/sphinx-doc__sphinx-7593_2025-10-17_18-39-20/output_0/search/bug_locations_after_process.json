[
    {
        "rel_file_path": "sphinx/writers/html.py",
        "abs_file_path": "/home/kimnal0/auto-code-rover/SWE-bench/testbed/sphinx-doc__sphinx/setup_sphinx-doc__sphinx__3.1/sphinx/writers/html.py",
        "start": 55,
        "end": 79,
        "class_name": "HTMLWriter",
        "method_name": null,
        "code": "55 class HTMLWriter(Writer):\n56 \n57     # override embed-stylesheet default value to 0.\n58     settings_spec = copy.deepcopy(Writer.settings_spec)\n59     for _setting in settings_spec[2]:\n60         if '--embed-stylesheet' in _setting[1]:\n61             _setting[2]['default'] = 0\n62 \n63     def __init__(self, builder: \"StandaloneHTMLBuilder\") -> None:\n64         super().__init__()\n65         self.builder = builder\n66 \n67     def translate(self) -> None:\n68         # sadly, this is mostly copied from parent class\n69         visitor = self.builder.create_translator(self.document, self.builder)\n70         self.visitor = cast(HTMLTranslator, visitor)\n71         self.document.walkabout(visitor)\n72         self.output = self.visitor.astext()\n73         for attr in ('head_prefix', 'stylesheet', 'head', 'body_prefix',\n74                      'body_pre_docinfo', 'docinfo', 'body', 'fragment',\n75                      'body_suffix', 'meta', 'title', 'subtitle', 'header',\n76                      'footer', 'html_prolog', 'html_head', 'html_title',\n77                      'html_subtitle', 'html_body', ):\n78             setattr(self, attr, getattr(visitor, attr, None))\n79         self.clean_meta = ''.join(self.visitor.meta[2:])\n",
        "intended_behavior": "Introduce or modify logic within the HTMLWriter class (or a related component responsible for processing roles for HTML output) to detect and appropriately process the :kbd: role values, splitting the keystroke sequences into separate or nested <kbd> elements, following the specification described in the issue. This behavior should enhance the rendering of the :kbd: role without breaking existing functionalities."
    },
    {
        "rel_file_path": "sphinx/application.py",
        "abs_file_path": "/home/kimnal0/auto-code-rover/SWE-bench/testbed/sphinx-doc__sphinx/setup_sphinx-doc__sphinx__3.1/sphinx/application.py",
        "start": 637,
        "end": 652,
        "class_name": null,
        "method_name": "add_role",
        "code": "637     def add_role(self, name: str, role: Any, override: bool = False) -> None:\n638         \"\"\"Register a Docutils role.\n639 \n640         *name* must be the role name that occurs in the source, *role* the role\n641         function. Refer to the `Docutils documentation\n642         <http://docutils.sourceforge.net/docs/howto/rst-roles.html>`_ for\n643         more information.\n644 \n645         .. versionchanged:: 1.8\n646            Add *override* keyword.\n647         \"\"\"\n648         logger.debug('[app] adding role: %r', (name, role))\n649         if not override and docutils.is_role_registered(name):\n650             logger.warning(__('role %r is already registered, it will be overridden'),\n651                            name, type='app', subtype='add_role')\n652         docutils.register_role(name, role)\n",
        "intended_behavior": "Utilize the add_role method to register the enhanced handling of the :kbd: role once it is developed. This registration should ensure backward compatibility and not conflict with existing Sphinx roles or functionality."
    },
    {
        "rel_file_path": "sphinx/application.py",
        "abs_file_path": "/home/kimnal0/auto-code-rover/SWE-bench/testbed/sphinx-doc__sphinx/setup_sphinx-doc__sphinx__3.1/sphinx/application.py",
        "start": 637,
        "end": 652,
        "class_name": "Sphinx",
        "method_name": "add_role",
        "code": "637     def add_role(self, name: str, role: Any, override: bool = False) -> None:\n638         \"\"\"Register a Docutils role.\n639 \n640         *name* must be the role name that occurs in the source, *role* the role\n641         function. Refer to the `Docutils documentation\n642         <http://docutils.sourceforge.net/docs/howto/rst-roles.html>`_ for\n643         more information.\n644 \n645         .. versionchanged:: 1.8\n646            Add *override* keyword.\n647         \"\"\"\n648         logger.debug('[app] adding role: %r', (name, role))\n649         if not override and docutils.is_role_registered(name):\n650             logger.warning(__('role %r is already registered, it will be overridden'),\n651                            name, type='app', subtype='add_role')\n652         docutils.register_role(name, role)\n",
        "intended_behavior": "Utilize the add_role method to register the enhanced handling of the :kbd: role once it is developed. This registration should ensure backward compatibility and not conflict with existing Sphinx roles or functionality."
    }
]
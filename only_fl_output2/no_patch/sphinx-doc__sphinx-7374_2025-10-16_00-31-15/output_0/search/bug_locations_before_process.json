[
    {
        "file": "sphinx/domains/python.py",
        "class": "PyObject",
        "method": "add_target_and_index",
        "intended_behavior": "This method should provide a way to optionally preserve underscores in generated IDs for compatibility with existing links or documentation practices. This could involve an additional configuration option that controls whether the generated node_id (and thus, the fragment identifier) retains underscores or converts them to dashes. The method must continue to ensure that node_ids are unique and follow best practices for URL-safe characters, keeping in line with web standards."
    },
    {
        "file": "sphinx/domains/python.py",
        "class": "PyFunction",
        "method": "add_target_and_index",
        "intended_behavior": "Similar to PyObject's add_target_and_index, for consistency across Python domain objects, this method also needs to support configurable handling of underscores in IDs. The same configuration option used in PyObject could apply here, allowing project-wide control over identifier formatting. This adjustment ensures that function links, which are frequently targeted in external documentation and tutorials, remain stable and predictable after upgrading Sphinx or modifying documentation sources."
    }
]
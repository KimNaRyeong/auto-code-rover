[
    {
        "file": "django/contrib/admin/options.py",
        "class": "ModelAdmin",
        "method": "",
        "intended_behavior": "A new validation method or an enhancement of an existing one within ModelAdmin should check if filter_horizontal or filter_vertical is used with a ManyToManyField that has a custom through model defined. This method should raise a validation error or at least a warning if such a configuration is detected, guiding developers away from this unsupported setup. The validation should be integrated into the admin system checks that run when the server starts or the checks framework is otherwise invoked. This preserves the functionality of filter_horizontal and filter_vertical by clearly communicating their limitations to developers."
    },
    {
        "file": "django/contrib/admin/checks.py",
        "class": "",
        "method": "",
        "intended_behavior": "Extend or introduce checks related to ModelAdmin configuration that specifically validate the use of filter_horizontal or filter_vertical in conjunction with ManyToManyField's through option. The check should verify that when either filter_horizontal or filter_vertical is configured, the related ManyToManyField does not declare a through model. If such a case is found, the check should emit a warning or error indicating the incompatibility. This enhancement would help developers identify configuration mistakes early in the development process, ensuring the admin interface behaves as expected."
    }
]